<!doctype html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>ูุฐูุฑุฉ ุชูุงุนููุฉ - ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ</title>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Cairo:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        /* ========================================================== */
        /* 1. ุงููุชุบูุฑุงุช ูุงูุฃุณุงุณูุงุช (Variables & Base) */
        /* ========================================================== */
        :root {
            /* Dark Theme Colors */
            --bg1: #0a1128;
            /* Deep Blue Background */
            --bg2: #050a1a;
            /* Darker Blue */
            --card-bg: #111a30;
            /* Card background */
            --accent1: #ff5733;
            /* Strong Orange/Red Accent */
            --accent2: #4cc9f0;
            /* Vibrant Cyan/Blue */
            --glass: rgba(255, 255, 255, 0.08);
            --glass-2: rgba(255, 255, 255, 0.03);
            --text: #e6f7ff;
            --muted: #a0c2d6;
            --border-color: rgba(255, 255, 255, 0.1);
            --success: #10b981;
            --shadow: 0 15px 40px rgba(0, 0, 0, 0.7);

            /* Typography */
            font-family: 'Cairo', 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
        }

        * {
            box-sizing: border-box
        }

        html,
        body {
            height: 100%;
            margin: 0;
            background: linear-gradient(135deg, var(--bg1), var(--bg2));
            color: var(--text);
            font-size: 16px;
            line-height: 1.6;
        }

        .wrap {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 30px
        }

        .stage {
            width: 100%;
            max-width: 1200px;
            display: grid;
            grid-template-columns: 1fr 380px;
            gap: 35px;
            align-items: start
        }

        /* ========================================================== */
        /* 2. ุงูุจุทุงูุฉ ุงูุฑุฆูุณูุฉ (Content Card) */
        /* ========================================================== */
        .card {
            background: var(--card-bg);
            border-radius: 24px;
            padding: 35px;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
            position: relative;
            overflow: hidden;
        }

        /* Decorative light effect */
        .card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at 10% 10%, rgba(76, 201, 240, 0.08), transparent 15%),
                radial-gradient(circle at 90% 90%, rgba(255, 87, 51, 0.06), transparent 18%);
            pointer-events: none;
        }

        .title-section {
            display: flex;
            align-items: center;
            gap: 18px;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 18px;
            margin-bottom: 20px;
        }

        .logo {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent1), var(--accent2));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 800;
            color: var(--text);
            font-size: 20px;
            box-shadow: 0 0 15px rgba(255, 87, 51, 0.5);
            animation: pulse-logo 4s infinite;
        }

        @keyframes pulse-logo {

            0%,
            100% {
                box-shadow: 0 0 15px rgba(255, 87, 51, 0.5);
            }

            50% {
                box-shadow: 0 0 25px rgba(76, 201, 240, 0.7);
            }
        }

        h1 {
            margin: 0;
            font-size: 24px;
            line-height: 1.3;
            color: var(--accent2);
        }

        p.lead {
            margin: 5px 0 0;
            color: var(--muted);
            font-size: 16px;
        }

        .slide {
            min-height: 400px;
            padding: 20px;
            border-radius: 18px;
            background: var(--glass);
            border: 1px solid var(--glass-2);
            backdrop-filter: blur(10px);
            transition: transform .6s cubic-bezier(.2, .9, .2, 1), opacity .5s;
        }

        .slide.enter {
            animation: slideIn .6s ease both
        }

        @keyframes slideIn {
            from {
                transform: translateY(20px) scale(.99);
                opacity: 0
            }

            to {
                transform: none;
                opacity: 1
            }
        }

        .slide h2 {
            margin: 0 0 18px;
            font-size: 22px;
            color: var(--accent1);
            border-right: 4px solid var(--accent1);
            padding-right: 10px;
        }

        .bullets {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 20px;
        }

        .bullet {
            background: var(--glass-2);
            padding: 15px;
            border-radius: 12px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            font-size: 1rem;
            position: relative;
            padding-right: 40px;
            /* Space for the icon */
        }

        .bullet::before {
            content: "โ";
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--accent2);
            font-weight: bold;
            font-size: 1.2rem;
        }

        .muted {
            color: var(--muted);
            font-size: 14px
        }

        .task-box {
            margin-top: 25px;
            padding: 18px;
            border-radius: 12px;
            background: rgba(255, 87, 51, 0.1);
            border: 1px dashed var(--accent1);
            color: var(--text);
        }

        .task-box strong {
            color: var(--accent1);
        }

        /* Active Recall Mode */
        .recall-prompt {
            margin-top: 15px;
            padding: 20px;
            border-radius: 12px;
            background: rgba(76, 201, 240, 0.1);
            border: 1px solid var(--accent2);
            color: var(--text);
            text-align: center;
        }

        .reveal-btn {
            margin-top: 15px;
            background: var(--accent2);
            color: var(--bg1);
            padding: 10px 20px;
            border-radius: 8px;
            font-weight: 700;
            cursor: pointer;
            border: none;
            transition: background .2s;
        }

        .reveal-btn:hover {
            background: #a3e635;
        }

        /* Quiz Mode */
        .quiz-option {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            margin-top: 10px;
            cursor: pointer;
            transition: background .2s, border-color .2s;
        }

        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .quiz-option.correct {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.15);
        }

        .quiz-option.wrong {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.15);
        }

        .quiz-option .icon {
            font-weight: bold;
            font-size: 1.2rem;
            min-width: 20px;
            text-align: center;
        }


        /* ========================================================== */
        /* 3. ุงูุดุฑูุท ุงูุฌุงูุจู (Sidebar Controls) */
        /* ========================================================== */
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 35px
        }

        .meta {
            padding: 25px;
            border-radius: 20px;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            box-shadow: 0 6px 15px rgba(2, 6, 23, 0.4);
        }

        .progress-box {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px
        }

        .progress-label {
            font-weight: bold;
            color: var(--accent2);
        }

        .progress {
            height: 12px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 999px;
            overflow: hidden;
            margin-top: 10px
        }

        .progress>i {
            display: block;
            height: 100%;
            background: linear-gradient(90deg, var(--accent2), var(--accent1));
            width: 0%;
            transition: width .6s;
            border-radius: 999px;
        }

        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-top: 25px
        }

        button.btn {
            cursor: pointer;
            border: 0;
            padding: 12px 18px;
            border-radius: 10px;
            background: linear-gradient(90deg, var(--accent1), var(--accent2));
            color: var(--bg1);
            font-weight: 700;
            box-shadow: 0 8px 20px rgba(255, 87, 51, 0.4);
            transition: transform .2s;
            flex-grow: 1;
        }

        button.btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(255, 87, 51, 0.6);
        }

        button.ghost {
            background: transparent;
            border: 1px solid var(--border-color);
            color: var(--text);
            padding: 12px 18px;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            transition: background .2s;
            flex-grow: 0;
            min-width: 80px;
        }

        button.ghost:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        button:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }

        .modes {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
            margin-top: 20px;
            border-top: 1px solid var(--border-color);
            padding-top: 20px;
        }

        .mode {
            padding: 10px 15px;
            border-radius: 10px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            cursor: pointer;
            font-weight: 600;
            transition: background .2s;
            color: var(--muted);
        }

        .mode.active {
            background: linear-gradient(90deg, rgba(76, 201, 240, 0.15), rgba(255, 87, 51, 0.08));
            border: 1px solid var(--accent2);
            color: var(--text);
        }

        .mode:hover {
            background: rgba(255, 255, 255, 0.03);
        }

        /* Tips and Notes */
        .tips {
            color: var(--muted);
            font-size: 15px;
        }

        .tips ol {
            padding-right: 20px;
            margin: 10px 0 0;
            list-style-type: arabic-indic;
            line-height: 1.7
        }

        .tips li {
            margin-bottom: 8px;
        }

        /* ========================================================== */
        /* 4. ุงูุงุณุชุฌุงุจุฉ (Responsive) */
        /* ========================================================== */
        @media(max-width:980px) {
            .wrap {
                padding: 20px;
            }

            .stage {
                grid-template-columns: 1fr;
                gap: 25px;
            }

            .sidebar {
                order: 2
            }
        }
.nxt{
    display: inline-block;
    margin-top: 15px;
    padding: 12px 25px;
    border-radius: 8px;
    background: linear-gradient(45deg, var(--accent1), var(--accent2));
    color: var(--bg1);
    font-weight: 700;
    text-decoration: none;
    box-shadow: 0 8px 20px rgba(255, 87, 51, 0.4);
    transition: all 0.3s ease;
}
        @media(max-width:600px) {
            .title-section {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }

            h1 {
                font-size: 20px;
            }

            .logo {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }

            .card {
                padding: 25px;
            }

            .meta {
                padding: 20px;
            }

            .controls button {
                padding: 10px 12px;
                font-size: 14px;
            }
        }
    </style>
</head>

<body>
    <div class="wrap">
        <div class="stage">
            <div class="card">
                <div class="title-section">
                    <div class="logo">PD</div>
                    <div>
                        <h1>ุญูุงูุฉ ุงูุจูุงูุงุช ูุงูุฎุตูุตูุฉ: ุงููุญุฏุฉ ุงูุซุงููุฉ</h1>
                        <p class="lead">ุฏุฑุงุณุฉ ุชูุงุนููุฉ ููุจูุงูุงุช ุงูุดุฎุตูุฉุ ุญููู ุงูุตูุฑุฉุ ูุขููุงุช
                            ุงูุญูุงูุฉ.</p>
                    </div>
                </div>

                <div id="slide" class="slide enter" role="main" aria-live="polite">
                </div>
            </div>

            <aside class="sidebar">
                <div class="meta">
                    <div class="progress-box">
                        <div class="progress-label">ุงูุชูุฏู</div>
                        <div class="muted">ุงูุดุฑูุญุฉ <span id="index">1</span>/<span
                                id="total">4</span></div>
                    </div>
                    <div class="progress"><i id="prog"></i></div>

                    <div class="controls">
                        <button id="prev" class="ghost" disabled>ุงูุณุงุจู</button>
                        <button id="play" class="btn">ุชุดุบูู ุชููุงุฆู</button>
                        <button id="next" class="ghost">ุงูุชุงูู</button>
                    </div>

                    <div class="modes">
                        <div class="mode active" data-mode="read" id="modeRead">ูุฑุงุกุฉ ูุฑูุฒุฉ
                        </div>
                        <div class="mode" data-mode="activeRecall" id="modeRecall">ุชุฐููุฑ ูุดุท
                        </div>
                        <div class="mode" data-mode="quiz" id="modeQuiz">ุงุฎุชุจุงุฑ ุณุฑูุน</div>
                    </div>
                </div>

                <div class="meta tips">
                    <div class="progress-label">๐ก ุงุณุชุฑุงุชูุฌูุงุช ูููุฐุงูุฑุฉ</div>
                    <ol>
                        <li>**ุงูููุงุฑูุฉ:** ูุงุฑู ุจูู **ุญู ุงูุฎุตูุตูุฉ** (ุญูุงูุฉ ุงูุญูุงุฉ ุงูุฎุงุตุฉ) ู**ุญู
                            ุงูุตูุฑุฉ** (ุญูุงูุฉ ุงููุธูุฑ).</li>
                        <li>**ุงููุฑุฒ:** ุตููู ุงูุฃูุซูุฉ (ูุงูุงุณูุ ุงูุจุตูุฉุ ุงูุฑุฃู ุงูุณูุงุณู) ุฅูู ุจูุงูุงุช
                            **ุฃุณุงุณูุฉ** ุฃู **ุญุณุงุณุฉ**.</li>
                        <li>**ุงูุณููุงุฑูู:** ููุฑ ูู ุณููุงุฑูููุงุช ุชุทุจู ูููุง ุงุณุชุซูุงุกุงุช ุชูููุฑ ุงูุจูุงูุงุช
                            ููุบูุฑ.</li>
                    </ol>
                    <div style="text-align:center; margin-top:15px;">
                        <button id="resetApp" class="ghost">ุฅุนุงุฏุฉ ุถุจุท ุงูุชุทุจูู</button>
                        <a href="/ICT/chapter3.html" class="nxt">ุงูุชุงูู</a>
                    </div>
                </div>
            </aside>
        </div>
    </div>


    <script>
        // ==========================================================
        // 5. ูุญุชูู ุงููููุฌ (ุงูุณูุฑุจุช ุงูุซุงุจุช) - ุชู ุงูุชุฃูุฏ ูู ุตุญุฉ ุจูุงุก ุงููุงุฆูุงุช ูุงููุตูููุงุช
        // ==========================================================
        const slidesData = [
            {
                id: 1,
                title: 'ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ ูุฃููุงุนูุง ุงูุฃุณุงุณูุฉ',
                bullets: [
                    'ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ (Personal information): ูู ุจูุงู ูุชุนูู ุจุดุฎุต ุทุจูุนู ูุญุฏุฏ ุฃู ูููู ุชุญุฏูุฏู ุจุดูู ูุจุงุดุฑ ุฃู ุบูุฑ ูุจุงุดุฑ.',
                    'ุฃูุซูุฉ ุชุดูู: ุงูุงุณูุ ุงูุนููุงูุ ุชุงุฑูุฎ ุงููููุงุฏุ ุฑูู ุงููุงุชูุ ุงูุจุฑูุฏ ุงูุฅููุชุฑูููุ ุงูุตูุฑุฉุ ูุจุตูุฉ ุงูุฅุตุจุน (ุจูุงูุงุช ุญูููุฉ).',
                    'ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ: ุงูุจูุงูุงุช ูุซู ุงูุงุณูุ ุงูุนููุงูุ ุชุงุฑูุฎ ุงููููุงุฏุ ูุงูููุน.',
                    'ุฃุฑูุงู ุงููููุฉ ุงูุดุฎุตูุฉ: ุงูุฃุฑูุงู ูุซู ุฌูุงุฒ ุงูุณูุฑ ุฃู ุฑุฎุต ุงูููุงุฏุฉ ุฃู ุงูุฑูู ุงููููู.',
                    'ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ ุงูุญุณุงุณุฉ: ูุนูููุงุช ุชุญุชุงุฌ ูุนูุงูุฉ ุฎุงุตุฉ ูุงูุนุฑูุ ุงูุฏูุงูุฉุ ุงูุขุฑุงุก ุงูุณูุงุณูุฉุ ุงูุญุงูุฉ ุงูุตุญูุฉุ ูุงูุณุฌู ุงูุฌูุงุฆู.'
                ],
                note: 'ุชุฐูุฑ ุฃู ุงูุจูุงูุงุช ุงูุญูููุฉ (ุงูุจูููุชุฑูุฉ) ูุซู ุจุตูุฉ ุงูุฅุตุจุน ููุฒุญูุฉ ุงูุนูู ุชุนุชุจุฑ ุจูุงูุงุช ุดุฎุตูุฉ ุญุณุงุณุฉ ุฌุฏุงู.'
            },

            {
                id: 2,
                title: 'ูุงููู ุงูุญูุงูุฉ ูุดุฑูุท ุชูููุฑ ุงูุจูุงูุงุช ููุบูุฑ',
                bullets: [
                    'ูุงููู ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ: ูุญุฏุฏ ุงูููุงุนุฏ ุงูุฃุณุงุณูุฉ ูุฌูุน ููุนุงูุฌุฉ ูุชุฎุฒูู ูููู ุงูุจูุงูุงุช.',
                    'ุงูููุงููุฉ ุงูุตุฑูุญุฉ: ูุง ูุฌูุฒ ุฌูุน ุฃู ูุดุงุฑูุฉ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ ุฅูุง ุจุนุฏ ููุงููุฉ ุตุฑูุญุฉ ูู ุตุงุญุจูุง.',
                    'ุงุณุชุซูุงุก [1]: ุงูุชุฒููุฏ ูุณุชูุฏ ุฅูู ููุงููู ูููุงุฆุญ.',
                    'ุงุณุชุซูุงุก [2]: ูุงุฒู ูุญูุงูุฉ ุงูุฃูู ุงููููู ุฃู ูุตูุญุฉ ุนุงูุฉ.',
                    'ุงุณุชุซูุงุก [3]: ุถุฑูุฑู ูุญูุงูุฉ ุญูุงุฉ ุงูุดุฎุต ุฃู ุตุญุชู ุฃู ููุชููุงุชู.',
                    'ุงุณุชุซูุงุก [4]: ุถุฑูุฑู ูุชูููุฐ ุญูู ูุถุงุฆู ุฃู ุทูุจ ูู ุฌูุฉ ุชุญููู.',
                ],
                note: 'ุฃุญุฏ ุฃูู ุงูุงุณุชุซูุงุกุงุช ูู ุนูุฏูุง ูููู ุชูููุฑ ุงูุจูุงูุงุช ุถุฑูุฑูุงู ูุญูุงูุฉ ุญูุงุฉ ุงูุดุฎุต ุฃู ุตุญุชู (ูุซุงู: ูู ุญุงูุงุช ุงูุทูุงุฑุฆ ุงูุทุจูุฉ).'
            },

            {
                id: 3,
                title: 'ุงูุฎุตูุตูุฉุ ุญููู ุงูุตูุฑุฉุ ูุญููู ุงูุฏุนุงูุฉ',
                bullets: [
                    'ุงูุญู ูู ุงูุฎุตูุตูุฉ: ุญู ุฏุณุชูุฑู ุนุงู ูุญูู ุงูุญูุงุฉ ุงูุฎุงุตุฉ ูููุฑุฏ ูู ุฃู ุชุฏุฎู ุบูุฑ ูุดุฑูุน.',
                    'ุญููู ุงูุตูุฑุฉ: ุญู ุงููุฑุฏ ูู ููุน ุงูุขุฎุฑูู ูู ุชุตููุฑู ุฃู ุงุณุชุฎุฏุงู ุตูุฑุชู ุฃู ูุธูุฑู ุฏูู ุฅุฐูู.',
                    'ุญุธุฑ ุงููุดุฑ: ูุญุธุฑ ูุงููู ุญูุงูุฉ ุงูููููุฉ ุงูููุฑูุฉ ูุดุฑ ุตูุฑุฉ ุดุฎุต ุฅูุง ุจููุงููุชู ุฃู ููุงููุฉ ุฌููุน ูู ูุธูุฑูู ูููุง.',
                    'ุญููู ุงูุฏุนุงูุฉ: ุญู ููุฏู ุฅูู ุญูุงูุฉ ุงููุตุงูุญ ุงูุงูุชุตุงุฏูุฉ ูููุดุงููุฑ ูู ุงุณุชุบูุงู ุตูุฑูู ุฃู ุณูุนุชูู ูุฃุบุฑุงุถ ุชุฌุงุฑูุฉ.'
                ],
                note: 'ุญู ุงูุฎุตูุตูุฉ ุฃูุณุน ูู ุญููู ุงูุตูุฑุฉุ ุญูุซ ูุฑูุฒ ุงูุฃูู ุนูู **ุงูุญูุงุฉ ุงูุฎุงุตุฉ** ูุงูุซุงูู ุนูู **ุงููุธูุฑ ุงูุฎุงุฑุฌู**.'
            },

            {
                id: 4,
                title: 'ุขููุงุช ุญูุงูุฉ ุงูุจูุงูุงุช ูู ุงูุดุฑูุงุช',
                bullets: [
                    'ุณูุงุณุฉ ุงูุฎุตูุตูุฉ (Privacy policy): ุชูุถุญ ููููุฉ ุฌูุน ููุนุงูุฌุฉ ูุญูุงูุฉ ุจูุงูุงุช ุงูุนููุงุก ูู ุงูุดุฑูุงุช.',
                    'ุชุฑุฎูุต ูุฑูุฒ ุญูุงูุฉ ุงูุจูุงูุงุช: ููููุญ ููุดุฑูุงุช ููุชุฃูุฏ ูู ุงูุชุฒุงููุง ุจูุงููู ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ.',
                    'ูุธุงู ุงูููุงููุฉ ุงููุณุจูุฉ: ูุดุชุฑุท ุงูุญุตูู ุนูู ููุงููุฉ ุตุฑูุญุฉ ููุณุจูุฉ ูู ุงููุณุชุฎุฏู ูุจู ุฌูุน ุจูุงูุงุชู.',
                    'ูุธุงู ุงูุงุนุชุฑุงุถ: ูุชูุญ ููุฎุฏูุฉ ูุนุงูุฌุฉ ุงูุจูุงูุงุช ูุง ูู ูุจุฏ ุงููุณุชุฎุฏู ุงุนุชุฑุงุถุงู ุตุฑูุญุงู (ูุชุทูุจ ุนููุงู ุฃูู ูู ุงููุณุชุฎุฏู).'
                ],
                note: 'ูุนุชุจุฑ **ูุธุงู ุงูููุงููุฉ ุงููุณุจูุฉ** ูู ุงูุฅุฌุฑุงุก ุงูุฃูุซุฑ ุญูุงูุฉ ูููุณุชุฎุฏู ุญูุซ ูุดุชุฑุท ุงูููุงููุฉ ุงููุดุทุฉ ููู.'
            }
        ];

        // ==========================================================
        // 6. ููุทู JavaScript (ุงูููุธููู ูุงูููุญุณููู)
        // ==========================================================
        let slides = JSON.parse(JSON.stringify(slidesData));
        const totalEl = document.getElementById('total');
        const indexEl = document.getElementById('index');
        const slideEl = document.getElementById('slide');
        const prog = document.getElementById('prog');
        const modeLabel = document.getElementById('modeLabel');
        const prevBtn = document.getElementById('prev');
        const nextBtn = document.getElementById('next');
        
        let cur = 0; let mode = 'read'; let playing = false; let playTimer;

        function render(i) {
            const s = slides[i];
            cur = i;
            indexEl.textContent = i + 1;
            totalEl.textContent = slides.length;
            prog.style.width = ((i + 1) / slides.length * 100) + '%';
            slideEl.classList.remove('enter');
            void slideEl.offsetWidth;
            slideEl.classList.add('enter');
            updateNavigationButtons();

            // ุจูุงุก ุงููุญุชูู ุงูุฃุณุงุณู
            slideEl.innerHTML = `
                <h2>${escapeHtml(s.title)}</h2>
                <div class=bullets id="slideBullets">
                    ${s.bullets.map(b => `<div class=bullet>${b}</div>`).join('')}
                </div>
                <div class="task-box"><strong>ุชุทุจูู/ูููุฉ:</strong> ${escapeHtml(s.note || '')}</div>
            `;

            const slideBullets = slideEl.querySelector('#slideBullets');

            // ูุถุน ุงูุชุฐููุฑ (Active Recall)
            if (mode === 'activeRecall') {
                slideBullets.style.filter = 'blur(6px)';
                slideBullets.style.opacity = '0.15';
                const prompt = document.createElement('div');
                prompt.className = 'recall-prompt';
                prompt.innerHTML = `
                    <p style="margin: 0 0 10px;">ุญุงูู ุชุฐููุฑ ุงูููุงุท ุงูุฃุณุงุณูุฉ ูุงูููุงููู ูุจู ุงููุดู.</p>
                    <button class="reveal-btn">ูุดู ุงูููุงุท (Reveal)</button>
                `;

                const btn = prompt.querySelector('.reveal-btn');
                btn.onclick = () => { slideBullets.style.filter = 'none'; slideBullets.style.opacity = '1'; btn.remove(); };

                slideEl.insertBefore(prompt, slideEl.querySelector('.task-box'));
            }

            // ูุถุน ุงูุงุฎุชุจุงุฑ (Quiz) - ุจุณูุท ูููุฌู ูููููุฌ
            if (mode === 'quiz') {
                slideBullets.style.display = 'none';
                slideEl.querySelector('.task-box').style.display = 'none';

                const qwrap = document.createElement('div'); qwrap.style.marginTop = '16px';
                qwrap.innerHTML = `<div style="font-weight:bold; margin-bottom:10px; color:var(--accent2);">ุงุฎุชุฑ ุงููุตุทูุญ ุฃู ุงูุฎุงุตูุฉ ุงูุตุญูุญุฉ:</div>`;

                // ุฅูุดุงุก ุณุคุงู ุจุณูุท (ูุซุงู: ุณุคุงู ุนู ุฎุงุตูุฉ ุฃู ุชุนุฑูู ูู ุงูุดุฑูุญุฉ ุงูุญุงููุฉ)
                let question, correctText, allOptions;

                if (i === 0) { // ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ
                    question = "ูุง ูู ุงููุตุทูุญ ุงูุฐู ูุตู ุงูุจูุงูุงุช ูุซู ุงูุงุณูุ ุงูุนููุงูุ ูุชุงุฑูุฎ ุงููููุงุฏุ";
                    correctText = "ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ";
                    allOptions = [correctText, "ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ ุงูุญุณุงุณุฉ", "ุฃุฑูุงู ุงููููุฉ ุงูุดุฎุตูุฉ"];
                } else if (i === 2) { // ุงูุฎุตูุตูุฉ ูุญููู ุงูุตูุฑุฉ
                    question = "ูุง ูู ุงูุญู ุงูุฐู ููุฏู ุฅูู ุญูุงูุฉ ุงููุตุงูุญ ุงูุงูุชุตุงุฏูุฉ ูููุดุงููุฑ ูู ุงุณุชุบูุงู ุตูุฑูู ูุฃุบุฑุงุถ ุชุฌุงุฑูุฉุ";
                    correctText = "ุญููู ุงูุฏุนุงูุฉ (Image Rights)";
                    allOptions = [correctText, "ุงูุญู ูู ุงูุฎุตูุตูุฉ", "ุญููู ุงูุตูุฑุฉ"];
                } else if (i === 3) { // ุขููุงุช ุงูุญูุงูุฉ
                    question = "ูุง ูู ุงููุธุงู ุงูุฐู ูุดุชุฑุท ุงูุญุตูู ุนูู ููุงููุฉ ุตุฑูุญุฉ ููุณุจูุฉ ูู ุงููุณุชุฎุฏู ูุจู ุฌูุน ุจูุงูุงุชูุ";
                    correctText = "ูุธุงู ุงูููุงููุฉ ุงููุณุจูุฉ (Prior Approval)";
                    allOptions = [correctText, "ูุธุงู ุงูุงุนุชุฑุงุถ", "ุณูุงุณุฉ ุงูุฎุตูุตูุฉ"];
                } else { // ุณุคุงู ุงูุชุฑุงุถู ูู ุงูุดุฑูุญุฉ ุงูุญุงููุฉ (ูุงููู ุงูุญูุงูุฉ)
                    question = "ูุง ูู ุงููุตุทูุญ ุงูุฐู ูุญุฏุฏ ุงูููุงุนุฏ ุงูุฃุณุงุณูุฉ ูุฌูุน ููุนุงูุฌุฉ ูุชุฎุฒูู ูููู ุงูุจูุงูุงุช ุงูุดุฎุตูุฉุ";
                    correctText = "ูุงููู ุญูุงูุฉ ุงูุจูุงูุงุช ุงูุดุฎุตูุฉ";
                    allOptions = [correctText, "ูุธุงู ุงูููุงููุฉ ุงููุณุจูุฉ", "ุญููู ุงูุตูุฑุฉ"];
                }

                qwrap.querySelector('div').textContent = question; // ุชุญุฏูุซ ูุต ุงูุณุคุงู

                const options = shuffle([...new Set(allOptions)]).slice(0, 3); // ุฎูุท ูุฃุฎุฐ 3 ุฎูุงุฑุงุช ูุญุฏ ุฃูุตู

                const list = document.createElement('div');
                list.style.marginTop = '15px';
                list.style.display = 'flex';
                list.style.flexDirection = 'column';
                list.style.gap = '10px';

                let answered = false;
                options.forEach((opt, idx) => {
                    const b = document.createElement('div');
                    b.className = 'quiz-option';
                    b.innerHTML = `<span class="icon">${String.fromCharCode(0x0623 + idx)}</span> ${opt}`; // ุฃุญุฑู ุนุฑุจูุฉ ุฃุ ุจุ ุช
                    b.onclick = () => {
                        if (answered) return;
                        answered = true;

                        // ุงูุชุฃูุฏ ูู ุงุญุชูุงุก ุงูุฅุฌุงุจุฉ ุนูู ุงููุต ุงูุตุญูุญ (ูุน ุชุฌุงูู ุนูุงูุงุช ุงูุงูุชุจุงุณ ุฅุฐุง ูุงูุช ููุฌูุฏุฉ ูู opt)
                        if (opt.trim().includes(correctText.trim())) {
                            b.classList.add('correct');
                        } else {
                            b.classList.add('wrong');
                            // ูุญุงููุฉ ุฅุธูุงุฑ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ
                            document.querySelectorAll('.quiz-option').forEach(other => {
                                if (other.textContent.trim().includes(correctText.trim())) {
                                    other.classList.add('correct');
                                }
                            });
                        }
                    };
                    list.appendChild(b);
                });

                qwrap.appendChild(list);
                slideEl.appendChild(qwrap);
            }
        }

        // helpers
        function escapeHtml(s) { return (s || '').replace(/[&<>"']/g, c => ({ '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' })[c]); }
        function shuffle(a) { for (let i = a.length - 1; i > 0; i--) { const j = Math.floor(Math.random() * (i + 1));[a[i], a[j]] = [a[j], a[i]] } return a }

        function updateNavigationButtons() {
            prevBtn.disabled = cur === 0;
            nextBtn.disabled = cur === slides.length - 1;
            if (cur === slides.length - 1) {
                document.getElementById('play').textContent = 'ุฅุนุงุฏุฉ ุงูุจุฏุก';
            } else {
                document.getElementById('play').textContent = playing ? 'ุฅููุงู ุชููุงุฆู' : 'ุชุดุบูู ุชููุงุฆู';
            }
        }


        // controls
        prevBtn.onclick = () => {
            stopPlay();
            cur = (cur - 1 + slides.length) % slides.length;
            render(cur);
        }

        nextBtn.onclick = () => {
            stopPlay();
            if (cur < slides.length - 1) {
                cur = (cur + 1) % slides.length;
                render(cur);
            }
        }

        document.getElementById('play').onclick = () => {
            if (cur === slides.length - 1) {
                // ุฅุนุงุฏุฉ ุงูุจุฏุก ุนูุฏ ุงููุตูู ููููุงูุฉ
                cur = 0;
                render(cur);
                startPlay();
            } else if (playing) {
                stopPlay();
            } else {
                startPlay();
            }
        }

        function startPlay() {
            playing = true;
            document.getElementById('play').textContent = 'ุฅููุงู ุชููุงุฆู';
            playTimer = setInterval(() => {
                if (cur === slides.length - 1) {
                    stopPlay();
                    document.getElementById('play').textContent = 'ุฅุนุงุฏุฉ ุงูุจุฏุก';
                } else {
                    cur = (cur + 1) % slides.length;
                    render(cur);
                }
            }, 2500); // 2.5 ุซุงููุฉ ููู ุดุฑูุญุฉ
        }

        function stopPlay() {
            playing = false;
            document.getElementById('play').textContent = 'ุชุดุบูู ุชููุงุฆู';
            clearInterval(playTimer)
        }

        // modes
        document.querySelectorAll('.mode').forEach(m => m.addEventListener('click', e => {
            document.querySelectorAll('.mode').forEach(x => x.classList.remove('active'));
            e.currentTarget.classList.add('active');
            mode = e.currentTarget.dataset.mode;

            let label = 'ูุฑุงุกุฉ ูุฑูุฒุฉ';
            if (mode === 'activeRecall') label = 'ุชุฐููุฑ ูุดุท';
            if (mode === 'quiz') label = 'ุงุฎุชุจุงุฑ ุณุฑูุน';

            document.querySelector('.progress-box .muted').innerHTML = `ูุถุน: ${label}`;
            render(cur);
        }))

        // reset
        document.getElementById('resetApp').onclick = () => {
            stopPlay();
            cur = 0;
            mode = 'read';
            document.querySelectorAll('.mode').forEach(x => x.classList.remove('active'));
            document.getElementById('modeRead').classList.add('active');
            document.querySelector('.progress-box .muted').innerHTML = `ุงูุดุฑูุญุฉ <span id="index">${cur + 1}</span>/<span id="total">${slides.length}</span>`;
            render(cur);
        };


        // init
        render(cur);

        // keyboard
        document.addEventListener('keydown', e => {
            if (e.key === 'ArrowRight') { e.preventDefault(); nextBtn.click(); }
            if (e.key === 'ArrowLeft') { e.preventDefault(); prevBtn.click(); }
            if (e.key === ' ') { e.preventDefault(); document.getElementById('play').click() }
        });

        // nice entrance for the page
        window.addEventListener('load', () => { document.querySelector('.logo').classList.add('pulse') });
    </script>
</body>

</html>